<?
MIOLO::Import('modules::administracao::controls::linkaluno');
class gridAluno extends MDataGrid2
{
	function gridAluno()
	{
		global $MIOLO;
		$this->SetFilter(false);
		$filterNome = Form::GetFormValue('nome');
		$nome = Util::NVL($filterNome, 'A Definir');
		$this->AddFilterText('nome','Nome',$nome);
		$this->SetIndex(1);
		$objAluno = $MIOLO->GetBusiness('administracao','aluno');
		$query = $objAluno->listbyDescricao($nome);
		$linkAluno = new LinkAluno('linkAluno','%0%');
		$column = new MDataGridControl($linkAluno,'','CÃ³digo','right',true,'100%');
		$columns = array(
			$column,
		);
		$href_grid = $MIOLO->GetCurrentURL();
		parent::__construct($query, $columns, $href_grid, 25);
		$this->SetLinkType('hyperlink');
	}
	function GenerateFooter()
	{
		if(!$this->data)
			$footer[] = $this->GenerateEmptyMsg();
		return $footer;
	}
}
?>
